{% extends 'base.html.twig' %}

{% block body %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Gestion des Produits</h2>
        <button class="btn btn-primary rounded-pill px-4 fw-bold shadow" data-bs-toggle="modal" data-bs-target="#addModal">
            <i class="bi bi-plus-lg me-2"></i> Ajouter un produit
        </button>
    </div>

    <div class="row g-3 mb-4">
        {% set kpis = [{'t': 'Total', 'v': '6', 'c': '#5a4fcf'}, {'t': 'Stock', 'v': '130', 'c': '#4b38b3'}, {'t': 'Faible', 'v': '1', 'c': '#6358dc'}, {'t': 'Valeur', 'v': '128k €', 'c': '#5247cc'}] %}
        {% for kpi in kpis %}
            <div class="col-md-3">
                <div class="card p-4 text-white border-0 shadow-sm" style="background: {{ kpi.c }};">
                    <small class="text-uppercase opacity-75 fw-bold" style="font-size: 0.7rem;">{{ kpi.t }}</small>
                    <h3 class="fw-bold mb-0">{{ kpi.v }}</h3>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="card border-0 shadow-sm overflow-hidden bg-white">
        <table class="table table-hover align-middle mb-0">
            <thead class="bg-light">
                <tr><th class="ps-4">PRODUIT</th><th>SKU</th><th>CATÉGORIE</th><th class="text-center">QTÉ</th><th>PRIX</th><th class="pe-4 text-end">ACTIONS</th></tr>
            </thead>
            <tbody>
                <tr>
                    <td class="ps-4 fw-bold">iPhone 13 Pro</td><td>TECH-001</td><td><span class="badge bg-primary-subtle text-primary">Électro</span></td>
                    <td class="text-center">45</td><td>1199€</td>
                    <td class="pe-4 text-end"><i class="bi bi-pencil text-primary me-2"></i><i class="bi bi-trash text-danger"></i></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="modal fade" id="addModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px;">
                <div class="modal-header border-0 pb-0"><h5 class="fw-bold">Nouveau Produit</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                <div class="modal-body p-4">
                    <form><div class="mb-3"><label class="small fw-bold">Désignation</label><input type="text" class="form-control rounded-pill"></div>
                    <div class="row g-2 mb-3"><div class="col-6"><label class="small fw-bold">SKU</label><input type="text" class="form-control rounded-pill"></div><div class="col-6"><label class="small fw-bold">Prix (€)</label><input type="number" class="form-control rounded-pill"></div></div>
                    <button class="btn btn-primary w-100 rounded-pill py-2 fw-bold">Enregistrer le produit</button></form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}